{"dependencies":[{"name":"react-native","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":23,"index":245},"end":{"line":5,"column":46,"index":268}}],"key":"lGv6jwyWtmgghjjYvCX5yhM2Jt0=","exportNames":["*"]}},{"name":"../../shared","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":17,"index":287},"end":{"line":6,"column":40,"index":310}}],"key":"nGuj9FEtRBU67xZ2eTMaA3OncKU=","exportNames":["*"]}},{"name":"../observable","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":21,"index":333},"end":{"line":7,"column":45,"index":357}}],"key":"Wp4whP3mc8t6X+fLKju5VuvTTrc=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isReduceMotionEnabled = exports.colorScheme = exports.systemColorScheme = void 0;\n  exports.cssVariableObservable = cssVariableObservable;\n  var react_native_1 = require(_dependencyMap[0], \"react-native\");\n  var shared_1 = require(_dependencyMap[1], \"../../shared\");\n  var observable_1 = require(_dependencyMap[2], \"../observable\");\n  exports.systemColorScheme = (0, observable_1.observable)(react_native_1.Appearance.getColorScheme() ?? \"light\");\n  var colorSchemeObservable = (0, observable_1.observable)(undefined);\n  exports.colorScheme = {\n    set(value) {\n      if (value === \"system\") {\n        appearance.setColorScheme(null);\n      } else {\n        appearance.setColorScheme(value);\n      }\n      if (process.env.NODE_ENV === \"test\") {\n        colorSchemeObservable.set(value === \"system\" ? \"light\" : value);\n      }\n    },\n    get(effect) {\n      return colorSchemeObservable.get(effect) ?? exports.systemColorScheme.get(effect);\n    },\n    getSystem(effect) {\n      return colorSchemeObservable.get(effect) ?? exports.systemColorScheme.get(effect);\n    },\n    toggle() {\n      var current = colorSchemeObservable.get();\n      if (current === undefined) current = appearance.getColorScheme() ?? \"light\";\n      exports.colorScheme.set(current === \"light\" ? \"dark\" : \"light\");\n    },\n    [shared_1.INTERNAL_RESET]: appearance => {\n      colorSchemeObservable.set(undefined);\n      resetAppearanceListeners(appearance, react_native_1.AppState);\n    }\n  };\n  function cssVariableObservable(value) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      name = _ref.name;\n    var light = (0, observable_1.observable)(value?.light, {\n      name: `${name}#light`\n    });\n    var dark = (0, observable_1.observable)(value?.dark, {\n      name: `${name}#dark`,\n      fallback: light\n    });\n    return {\n      name,\n      get(effect) {\n        return exports.colorScheme.get(effect) === \"light\" ? light.get(effect) : dark.get(effect);\n      },\n      set(value) {\n        if (typeof value === \"object\" && value) {\n          if (\"dark\" in value) dark.set(value.dark);\n          if (\"light\" in value) light.set(value.light);\n        } else {\n          light.set(value);\n          dark.set(value);\n        }\n      }\n    };\n  }\n  var appearance = react_native_1.Appearance;\n  var appearanceListener;\n  var appStateListener;\n  function resetAppearanceListeners($appearance, appState) {\n    appearance = $appearance;\n    appearanceListener?.remove();\n    appStateListener?.remove();\n    appearanceListener = appearance.addChangeListener(state => {\n      if (react_native_1.AppState.currentState === \"active\") {\n        exports.systemColorScheme.set(state.colorScheme ?? \"light\");\n      }\n    });\n    appStateListener = appState.addEventListener(\"change\", type => {\n      if (type === \"active\") {\n        var colorScheme = appearance.getColorScheme() ?? \"light\";\n        exports.systemColorScheme.set(colorScheme);\n      }\n    });\n  }\n  resetAppearanceListeners(appearance, react_native_1.AppState);\n  exports.isReduceMotionEnabled = Object.assign((0, observable_1.observable)(false, {\n    name: \"isReduceMotionEnabled\"\n  }), {\n    [shared_1.INTERNAL_RESET]: () => exports.isReduceMotionEnabled.set(false)\n  });\n  react_native_1.AccessibilityInfo.isReduceMotionEnabled()?.then(exports.isReduceMotionEnabled.set);\n  react_native_1.AccessibilityInfo.addEventListener(\"reduceMotionChanged\", value => {\n    exports.isReduceMotionEnabled.set(value);\n  });\n});","lineCount":96,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"isReduceMotionEnabled"],[7,31,3,29],[7,34,3,32,"exports"],[7,41,3,39],[7,42,3,40,"colorScheme"],[7,53,3,51],[7,56,3,54,"exports"],[7,63,3,61],[7,64,3,62,"systemColorScheme"],[7,81,3,79],[7,84,3,82],[7,89,3,87],[7,90,3,88],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"cssVariableObservable"],[8,31,4,29],[8,34,4,32,"cssVariableObservable"],[8,55,4,53],[9,2,5,0],[9,6,5,6,"react_native_1"],[9,20,5,20],[9,23,5,23,"require"],[9,30,5,30],[9,31,5,30,"_dependencyMap"],[9,45,5,30],[9,64,5,45],[9,65,5,46],[10,2,6,0],[10,6,6,6,"shared_1"],[10,14,6,14],[10,17,6,17,"require"],[10,24,6,24],[10,25,6,24,"_dependencyMap"],[10,39,6,24],[10,58,6,39],[10,59,6,40],[11,2,7,0],[11,6,7,6,"observable_1"],[11,18,7,18],[11,21,7,21,"require"],[11,28,7,28],[11,29,7,28,"_dependencyMap"],[11,43,7,28],[11,63,7,44],[11,64,7,45],[12,2,8,0,"exports"],[12,9,8,7],[12,10,8,8,"systemColorScheme"],[12,27,8,25],[12,30,8,28],[12,31,8,29],[12,32,8,30],[12,34,8,32,"observable_1"],[12,46,8,44],[12,47,8,45,"observable"],[12,57,8,55],[12,59,8,57,"react_native_1"],[12,73,8,71],[12,74,8,72,"Appearance"],[12,84,8,82],[12,85,8,83,"getColorScheme"],[12,99,8,97],[12,100,8,98],[12,101,8,99],[12,105,8,103],[12,112,8,110],[12,113,8,111],[13,2,9,0],[13,6,9,6,"colorSchemeObservable"],[13,27,9,27],[13,30,9,30],[13,31,9,31],[13,32,9,32],[13,34,9,34,"observable_1"],[13,46,9,46],[13,47,9,47,"observable"],[13,57,9,57],[13,59,9,59,"undefined"],[13,68,9,68],[13,69,9,69],[14,2,10,0,"exports"],[14,9,10,7],[14,10,10,8,"colorScheme"],[14,21,10,19],[14,24,10,22],[15,4,11,4,"set"],[15,7,11,7,"set"],[15,8,11,8,"value"],[15,13,11,13],[15,15,11,15],[16,6,12,8],[16,10,12,12,"value"],[16,15,12,17],[16,20,12,22],[16,28,12,30],[16,30,12,32],[17,8,13,12,"appearance"],[17,18,13,22],[17,19,13,23,"setColorScheme"],[17,33,13,37],[17,34,13,38],[17,38,13,42],[17,39,13,43],[18,6,14,8],[18,7,14,9],[18,13,15,13],[19,8,16,12,"appearance"],[19,18,16,22],[19,19,16,23,"setColorScheme"],[19,33,16,37],[19,34,16,38,"value"],[19,39,16,43],[19,40,16,44],[20,6,17,8],[21,6,18,8],[21,10,18,12,"process"],[21,17,18,19],[21,18,18,20,"env"],[21,21,18,23],[21,22,18,24,"NODE_ENV"],[21,30,18,32],[21,35,18,37],[21,41,18,43],[21,43,18,45],[22,8,19,12,"colorSchemeObservable"],[22,29,19,33],[22,30,19,34,"set"],[22,33,19,37],[22,34,19,38,"value"],[22,39,19,43],[22,44,19,48],[22,52,19,56],[22,55,19,59],[22,62,19,66],[22,65,19,69,"value"],[22,70,19,74],[22,71,19,75],[23,6,20,8],[24,4,21,4],[24,5,21,5],[25,4,22,4,"get"],[25,7,22,7,"get"],[25,8,22,8,"effect"],[25,14,22,14],[25,16,22,16],[26,6,23,8],[26,13,23,15,"colorSchemeObservable"],[26,34,23,36],[26,35,23,37,"get"],[26,38,23,40],[26,39,23,41,"effect"],[26,45,23,47],[26,46,23,48],[26,50,23,52,"exports"],[26,57,23,59],[26,58,23,60,"systemColorScheme"],[26,75,23,77],[26,76,23,78,"get"],[26,79,23,81],[26,80,23,82,"effect"],[26,86,23,88],[26,87,23,89],[27,4,24,4],[27,5,24,5],[28,4,25,4,"getSystem"],[28,13,25,13,"getSystem"],[28,14,25,14,"effect"],[28,20,25,20],[28,22,25,22],[29,6,26,8],[29,13,26,15,"colorSchemeObservable"],[29,34,26,36],[29,35,26,37,"get"],[29,38,26,40],[29,39,26,41,"effect"],[29,45,26,47],[29,46,26,48],[29,50,26,52,"exports"],[29,57,26,59],[29,58,26,60,"systemColorScheme"],[29,75,26,77],[29,76,26,78,"get"],[29,79,26,81],[29,80,26,82,"effect"],[29,86,26,88],[29,87,26,89],[30,4,27,4],[30,5,27,5],[31,4,28,4,"toggle"],[31,10,28,10,"toggle"],[31,11,28,10],[31,13,28,13],[32,6,29,8],[32,10,29,12,"current"],[32,17,29,19],[32,20,29,22,"colorSchemeObservable"],[32,41,29,43],[32,42,29,44,"get"],[32,45,29,47],[32,46,29,48],[32,47,29,49],[33,6,30,8],[33,10,30,12,"current"],[33,17,30,19],[33,22,30,24,"undefined"],[33,31,30,33],[33,33,31,12,"current"],[33,40,31,19],[33,43,31,22,"appearance"],[33,53,31,32],[33,54,31,33,"getColorScheme"],[33,68,31,47],[33,69,31,48],[33,70,31,49],[33,74,31,53],[33,81,31,60],[34,6,32,8,"exports"],[34,13,32,15],[34,14,32,16,"colorScheme"],[34,25,32,27],[34,26,32,28,"set"],[34,29,32,31],[34,30,32,32,"current"],[34,37,32,39],[34,42,32,44],[34,49,32,51],[34,52,32,54],[34,58,32,60],[34,61,32,63],[34,68,32,70],[34,69,32,71],[35,4,33,4],[35,5,33,5],[36,4,34,4],[36,5,34,5,"shared_1"],[36,13,34,13],[36,14,34,14,"INTERNAL_RESET"],[36,28,34,28],[36,31,34,32,"appearance"],[36,41,34,42],[36,45,34,47],[37,6,35,8,"colorSchemeObservable"],[37,27,35,29],[37,28,35,30,"set"],[37,31,35,33],[37,32,35,34,"undefined"],[37,41,35,43],[37,42,35,44],[38,6,36,8,"resetAppearanceListeners"],[38,30,36,32],[38,31,36,33,"appearance"],[38,41,36,43],[38,43,36,45,"react_native_1"],[38,57,36,59],[38,58,36,60,"AppState"],[38,66,36,68],[38,67,36,69],[39,4,37,4],[40,2,38,0],[40,3,38,1],[41,2,39,0],[41,11,39,9,"cssVariableObservable"],[41,32,39,30,"cssVariableObservable"],[41,33,39,31,"value"],[41,38,39,36],[41,40,39,53],[42,4,39,53],[42,8,39,53,"_ref"],[42,12,39,53],[42,15,39,53,"arguments"],[42,24,39,53],[42,25,39,53,"length"],[42,31,39,53],[42,39,39,53,"arguments"],[42,48,39,53],[42,56,39,53,"undefined"],[42,65,39,53],[42,68,39,53,"arguments"],[42,77,39,53],[42,83,39,49],[42,84,39,50],[42,85,39,51],[43,6,39,40,"name"],[43,10,39,44],[43,13,39,44,"_ref"],[43,17,39,44],[43,18,39,40,"name"],[43,22,39,44],[44,4,40,4],[44,8,40,10,"light"],[44,13,40,15],[44,16,40,18],[44,17,40,19],[44,18,40,20],[44,20,40,22,"observable_1"],[44,32,40,34],[44,33,40,35,"observable"],[44,43,40,45],[44,45,40,47,"value"],[44,50,40,52],[44,52,40,54,"light"],[44,57,40,59],[44,59,40,61],[45,6,40,63,"name"],[45,10,40,67],[45,12,40,69],[45,15,40,72,"name"],[45,19,40,76],[46,4,40,85],[46,5,40,86],[46,6,40,87],[47,4,41,4],[47,8,41,10,"dark"],[47,12,41,14],[47,15,41,17],[47,16,41,18],[47,17,41,19],[47,19,41,21,"observable_1"],[47,31,41,33],[47,32,41,34,"observable"],[47,42,41,44],[47,44,41,46,"value"],[47,49,41,51],[47,51,41,53,"dark"],[47,55,41,57],[47,57,41,59],[48,6,42,8,"name"],[48,10,42,12],[48,12,42,14],[48,15,42,17,"name"],[48,19,42,21],[48,26,42,28],[49,6,43,8,"fallback"],[49,14,43,16],[49,16,43,18,"light"],[50,4,44,4],[50,5,44,5],[50,6,44,6],[51,4,45,4],[51,11,45,11],[52,6,46,8,"name"],[52,10,46,12],[53,6,47,8,"get"],[53,9,47,11,"get"],[53,10,47,12,"effect"],[53,16,47,18],[53,18,47,20],[54,8,48,12],[54,15,48,19,"exports"],[54,22,48,26],[54,23,48,27,"colorScheme"],[54,34,48,38],[54,35,48,39,"get"],[54,38,48,42],[54,39,48,43,"effect"],[54,45,48,49],[54,46,48,50],[54,51,48,55],[54,58,48,62],[54,61,49,18,"light"],[54,66,49,23],[54,67,49,24,"get"],[54,70,49,27],[54,71,49,28,"effect"],[54,77,49,34],[54,78,49,35],[54,81,50,18,"dark"],[54,85,50,22],[54,86,50,23,"get"],[54,89,50,26],[54,90,50,27,"effect"],[54,96,50,33],[54,97,50,34],[55,6,51,8],[55,7,51,9],[56,6,52,8,"set"],[56,9,52,11,"set"],[56,10,52,12,"value"],[56,15,52,17],[56,17,52,19],[57,8,53,12],[57,12,53,16],[57,19,53,23,"value"],[57,24,53,28],[57,29,53,33],[57,37,53,41],[57,41,53,45,"value"],[57,46,53,50],[57,48,53,52],[58,10,54,16],[58,14,54,20],[58,20,54,26],[58,24,54,30,"value"],[58,29,54,35],[58,31,55,20,"dark"],[58,35,55,24],[58,36,55,25,"set"],[58,39,55,28],[58,40,55,29,"value"],[58,45,55,34],[58,46,55,35,"dark"],[58,50,55,39],[58,51,55,40],[59,10,56,16],[59,14,56,20],[59,21,56,27],[59,25,56,31,"value"],[59,30,56,36],[59,32,57,20,"light"],[59,37,57,25],[59,38,57,26,"set"],[59,41,57,29],[59,42,57,30,"value"],[59,47,57,35],[59,48,57,36,"light"],[59,53,57,41],[59,54,57,42],[60,8,58,12],[60,9,58,13],[60,15,59,17],[61,10,60,16,"light"],[61,15,60,21],[61,16,60,22,"set"],[61,19,60,25],[61,20,60,26,"value"],[61,25,60,31],[61,26,60,32],[62,10,61,16,"dark"],[62,14,61,20],[62,15,61,21,"set"],[62,18,61,24],[62,19,61,25,"value"],[62,24,61,30],[62,25,61,31],[63,8,62,12],[64,6,63,8],[65,4,64,4],[65,5,64,5],[66,2,65,0],[67,2,66,0],[67,6,66,4,"appearance"],[67,16,66,14],[67,19,66,17,"react_native_1"],[67,33,66,31],[67,34,66,32,"Appearance"],[67,44,66,42],[68,2,67,0],[68,6,67,4,"appearanceListener"],[68,24,67,22],[69,2,68,0],[69,6,68,4,"appStateListener"],[69,22,68,20],[70,2,69,0],[70,11,69,9,"resetAppearanceListeners"],[70,35,69,33,"resetAppearanceListeners"],[70,36,69,34,"$appearance"],[70,47,69,45],[70,49,69,47,"appState"],[70,57,69,55],[70,59,69,57],[71,4,70,4,"appearance"],[71,14,70,14],[71,17,70,17,"$appearance"],[71,28,70,28],[72,4,71,4,"appearanceListener"],[72,22,71,22],[72,24,71,24,"remove"],[72,30,71,30],[72,31,71,31],[72,32,71,32],[73,4,72,4,"appStateListener"],[73,20,72,20],[73,22,72,22,"remove"],[73,28,72,28],[73,29,72,29],[73,30,72,30],[74,4,73,4,"appearanceListener"],[74,22,73,22],[74,25,73,25,"appearance"],[74,35,73,35],[74,36,73,36,"addChangeListener"],[74,53,73,53],[74,54,73,55,"state"],[74,59,73,60],[74,63,73,65],[75,6,74,8],[75,10,74,12,"react_native_1"],[75,24,74,26],[75,25,74,27,"AppState"],[75,33,74,35],[75,34,74,36,"currentState"],[75,46,74,48],[75,51,74,53],[75,59,74,61],[75,61,74,63],[76,8,75,12,"exports"],[76,15,75,19],[76,16,75,20,"systemColorScheme"],[76,33,75,37],[76,34,75,38,"set"],[76,37,75,41],[76,38,75,42,"state"],[76,43,75,47],[76,44,75,48,"colorScheme"],[76,55,75,59],[76,59,75,63],[76,66,75,70],[76,67,75,71],[77,6,76,8],[78,4,77,4],[78,5,77,5],[78,6,77,6],[79,4,78,4,"appStateListener"],[79,20,78,20],[79,23,78,23,"appState"],[79,31,78,31],[79,32,78,32,"addEventListener"],[79,48,78,48],[79,49,78,49],[79,57,78,57],[79,59,78,60,"type"],[79,63,78,64],[79,67,78,69],[80,6,79,8],[80,10,79,12,"type"],[80,14,79,16],[80,19,79,21],[80,27,79,29],[80,29,79,31],[81,8,80,12],[81,12,80,18,"colorScheme"],[81,23,80,29],[81,26,80,32,"appearance"],[81,36,80,42],[81,37,80,43,"getColorScheme"],[81,51,80,57],[81,52,80,58],[81,53,80,59],[81,57,80,63],[81,64,80,70],[82,8,81,12,"exports"],[82,15,81,19],[82,16,81,20,"systemColorScheme"],[82,33,81,37],[82,34,81,38,"set"],[82,37,81,41],[82,38,81,42,"colorScheme"],[82,49,81,53],[82,50,81,54],[83,6,82,8],[84,4,83,4],[84,5,83,5],[84,6,83,6],[85,2,84,0],[86,2,85,0,"resetAppearanceListeners"],[86,26,85,24],[86,27,85,25,"appearance"],[86,37,85,35],[86,39,85,37,"react_native_1"],[86,53,85,51],[86,54,85,52,"AppState"],[86,62,85,60],[86,63,85,61],[87,2,86,0,"exports"],[87,9,86,7],[87,10,86,8,"isReduceMotionEnabled"],[87,31,86,29],[87,34,86,32,"Object"],[87,40,86,38],[87,41,86,39,"assign"],[87,47,86,45],[87,48,86,46],[87,49,86,47],[87,50,86,48],[87,52,86,50,"observable_1"],[87,64,86,62],[87,65,86,63,"observable"],[87,75,86,73],[87,77,86,75],[87,82,86,80],[87,84,86,82],[88,4,86,84,"name"],[88,8,86,88],[88,10,86,90],[89,2,86,114],[89,3,86,115],[89,4,86,116],[89,6,86,118],[90,4,86,120],[90,5,86,121,"shared_1"],[90,13,86,129],[90,14,86,130,"INTERNAL_RESET"],[90,28,86,144],[90,31,86,147],[90,37,86,153,"exports"],[90,44,86,160],[90,45,86,161,"isReduceMotionEnabled"],[90,66,86,182],[90,67,86,183,"set"],[90,70,86,186],[90,71,86,187],[90,76,86,192],[91,2,86,194],[91,3,86,195],[91,4,86,196],[92,2,87,0,"react_native_1"],[92,16,87,14],[92,17,87,15,"AccessibilityInfo"],[92,34,87,32],[92,35,87,33,"isReduceMotionEnabled"],[92,56,87,54],[92,57,87,55],[92,58,87,56],[92,60,87,58,"then"],[92,64,87,62],[92,65,87,63,"exports"],[92,72,87,70],[92,73,87,71,"isReduceMotionEnabled"],[92,94,87,92],[92,95,87,93,"set"],[92,98,87,96],[92,99,87,97],[93,2,88,0,"react_native_1"],[93,16,88,14],[93,17,88,15,"AccessibilityInfo"],[93,34,88,32],[93,35,88,33,"addEventListener"],[93,51,88,49],[93,52,88,50],[93,73,88,71],[93,75,88,74,"value"],[93,80,88,79],[93,84,88,84],[94,4,89,4,"exports"],[94,11,89,11],[94,12,89,12,"isReduceMotionEnabled"],[94,33,89,33],[94,34,89,34,"set"],[94,37,89,37],[94,38,89,38,"value"],[94,43,89,43],[94,44,89,44],[95,2,90,0],[95,3,90,1],[95,4,90,2],[96,0,90,3],[96,3]],"functionMap":{"names":["<global>","exports.colorScheme.set","exports.colorScheme.get","exports.colorScheme.getSystem","exports.colorScheme.toggle","exports.colorScheme.shared_1.INTERNAL_RESET","cssVariableObservable","get","set","resetAppearanceListeners","appearance.addChangeListener$argument_0","appState.addEventListener$argument_1","Object.assign$argument_1.shared_1.INTERNAL_RESET","react_native_1.AccessibilityInfo.addEventListener$argument_1"],"mappings":"AAA;ICU;KDU;IEC;KFE;IGC;KHE;IIC;KJK;+BKC;KLG;AME;QCQ;SDI;QEC;SFW;CNE;ASI;sDCI;KDI;2DEC;KFK;CTC;mJYE,8CZ;yEaE;CbE"}},"type":"js/module"}]}