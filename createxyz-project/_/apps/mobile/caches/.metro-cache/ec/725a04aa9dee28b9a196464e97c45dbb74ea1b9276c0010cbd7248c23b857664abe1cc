{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../../handlersRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"Q8MtNj8/mrt1iN8Kay94o881ERE=","exportNames":["*"]}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":69,"index":127}}],"key":"2BYIjnTRSFId8SRJ7sJFxLD1BD4=","exportNames":["*"]}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":128},"end":{"line":3,"column":68,"index":196}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"]}},{"name":"../../../ActionType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":197},"end":{"line":4,"column":49,"index":246}}],"key":"HJ6ReZDVLtCQDFQShsuSOLiCtL0=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"]}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":288},"end":{"line":6,"column":61,"index":349}}],"key":"6QYiO8x9sAoDBctSRJ19A8sqUNk=","exportNames":["*"]}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":350},"end":{"line":7,"column":99,"index":449}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"]}},{"name":"../../../mountRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":450},"end":{"line":8,"column":55,"index":505}}],"key":"ZDu7aL2iuT3Od7iyX13y9sY9XZQ=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[1], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = _interopRequireDefault(require(_dependencyMap[2], \"../../../RNGestureHandlerModule\"));\n  var _utils = require(_dependencyMap[3], \"../../utils\");\n  var _ActionType = require(_dependencyMap[4], \"../../../ActionType\");\n  var _Platform = _interopRequireDefault(require(_dependencyMap[5], \"react-native-web/dist/exports/Platform\"));\n  var _ghQueueMicrotask = require(_dependencyMap[6], \"../../../ghQueueMicrotask\");\n  var _utils2 = require(_dependencyMap[7], \"./utils\");\n  var _mountRegistry = require(_dependencyMap[8], \"../../../mountRegistry\");\n  function attachHandlers({\n    preparedGesture,\n    gestureConfig,\n    gesturesToAttach,\n    viewTag,\n    webEventHandlersRef\n  }) {\n    gestureConfig.initialize(); // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (const handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      _RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    } // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (const handler of gesturesToAttach) {\n        _RNGestureHandlerModule.default.updateGestureHandler(handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (const gesture of gesturesToAttach) {\n      const actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (_Platform.default.OS === 'web') {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n      _mountRegistry.MountRegistry.gestureWillMount(gesture);\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      const isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":64,"map":[[7,2,1,0],[7,6,1,0,"_handlersRegistry"],[7,23,1,0],[7,26,1,0,"require"],[7,33,1,0],[7,34,1,0,"_dependencyMap"],[7,48,1,0],[8,2,2,0],[8,6,2,0,"_RNGestureHandlerModule"],[8,29,2,0],[8,32,2,0,"_interopRequireDefault"],[8,54,2,0],[8,55,2,0,"require"],[8,62,2,0],[8,63,2,0,"_dependencyMap"],[8,77,2,0],[9,2,3,0],[9,6,3,0,"_utils"],[9,12,3,0],[9,15,3,0,"require"],[9,22,3,0],[9,23,3,0,"_dependencyMap"],[9,37,3,0],[10,2,4,0],[10,6,4,0,"_ActionType"],[10,17,4,0],[10,20,4,0,"require"],[10,27,4,0],[10,28,4,0,"_dependencyMap"],[10,42,4,0],[11,2,4,49],[11,6,4,49,"_Platform"],[11,15,4,49],[11,18,4,49,"_interopRequireDefault"],[11,40,4,49],[11,41,4,49,"require"],[11,48,4,49],[11,49,4,49,"_dependencyMap"],[11,63,4,49],[12,2,6,0],[12,6,6,0,"_ghQueueMicrotask"],[12,23,6,0],[12,26,6,0,"require"],[12,33,6,0],[12,34,6,0,"_dependencyMap"],[12,48,6,0],[13,2,7,0],[13,6,7,0,"_utils2"],[13,13,7,0],[13,16,7,0,"require"],[13,23,7,0],[13,24,7,0,"_dependencyMap"],[13,38,7,0],[14,2,8,0],[14,6,8,0,"_mountRegistry"],[14,20,8,0],[14,23,8,0,"require"],[14,30,8,0],[14,31,8,0,"_dependencyMap"],[14,45,8,0],[15,2,9,7],[15,11,9,16,"attachHandlers"],[15,25,9,30,"attachHandlers"],[15,26,9,31],[16,4,10,2,"preparedGesture"],[16,19,10,17],[17,4,11,2,"gestureConfig"],[17,17,11,15],[18,4,12,2,"gesturesToAttach"],[18,20,12,18],[19,4,13,2,"viewTag"],[19,11,13,9],[20,4,14,2,"webEventHandlersRef"],[21,2,15,0],[21,3,15,1],[21,5,15,3],[22,4,16,2,"gestureConfig"],[22,17,16,15],[22,18,16,16,"initialize"],[22,28,16,26],[22,29,16,27],[22,30,16,28],[22,31,16,29],[22,32,16,30],[23,4,17,2],[25,4,19,2],[25,8,19,2,"ghQueueMicrotask"],[25,42,19,18],[25,44,19,19],[25,50,19,25],[26,6,20,4],[26,10,20,8],[26,11,20,9,"preparedGesture"],[26,26,20,24],[26,27,20,25,"isMounted"],[26,36,20,34],[26,38,20,36],[27,8,21,6],[28,6,22,4],[29,6,24,4,"gestureConfig"],[29,19,24,17],[29,20,24,18,"prepare"],[29,27,24,25],[29,28,24,26],[29,29,24,27],[30,4,25,2],[30,5,25,3],[30,6,25,4],[31,4,27,2],[31,9,27,7],[31,15,27,13,"handler"],[31,22,27,20],[31,26,27,24,"gesturesToAttach"],[31,42,27,40],[31,44,27,42],[32,6,28,4],[32,10,28,4,"checkGestureCallbacksForWorklets"],[32,50,28,36],[32,52,28,37,"handler"],[32,59,28,44],[32,60,28,45],[33,6,29,4,"RNGestureHandlerModule"],[33,37,29,26],[33,38,29,27,"createGestureHandler"],[33,58,29,47],[33,59,29,48,"handler"],[33,66,29,55],[33,67,29,56,"handlerName"],[33,78,29,67],[33,80,29,69,"handler"],[33,87,29,76],[33,88,29,77,"handlerTag"],[33,98,29,87],[33,100,29,89],[33,104,29,89,"filterConfig"],[33,123,29,101],[33,125,29,102,"handler"],[33,132,29,109],[33,133,29,110,"config"],[33,139,29,116],[33,141,29,118,"ALLOWED_PROPS"],[33,162,29,131],[33,163,29,132],[33,164,29,133],[34,6,30,4],[34,10,30,4,"registerHandler"],[34,43,30,19],[34,45,30,20,"handler"],[34,52,30,27],[34,53,30,28,"handlerTag"],[34,63,30,38],[34,65,30,40,"handler"],[34,72,30,47],[34,74,30,49,"handler"],[34,81,30,56],[34,82,30,57,"config"],[34,88,30,63],[34,89,30,64,"testId"],[34,95,30,70],[34,96,30,71],[35,4,31,2],[35,5,31,3],[35,6,31,4],[36,4,32,2],[38,4,35,2],[38,8,35,2,"ghQueueMicrotask"],[38,42,35,18],[38,44,35,19],[38,50,35,25],[39,6,36,4],[39,10,36,8],[39,11,36,9,"preparedGesture"],[39,26,36,24],[39,27,36,25,"isMounted"],[39,36,36,34],[39,38,36,36],[40,8,37,6],[41,6,38,4],[42,6,40,4],[42,11,40,9],[42,17,40,15,"handler"],[42,24,40,22],[42,28,40,26,"gesturesToAttach"],[42,44,40,42],[42,46,40,44],[43,8,41,6,"RNGestureHandlerModule"],[43,39,41,28],[43,40,41,29,"updateGestureHandler"],[43,60,41,49],[43,61,41,50,"handler"],[43,68,41,57],[43,69,41,58,"handlerTag"],[43,79,41,68],[43,81,41,70],[43,85,41,70,"filterConfig"],[43,104,41,82],[43,106,41,83,"handler"],[43,113,41,90],[43,114,41,91,"config"],[43,120,41,97],[43,122,41,99,"ALLOWED_PROPS"],[43,143,41,112],[43,145,41,114],[43,149,41,114,"extractGestureRelations"],[43,180,41,137],[43,182,41,138,"handler"],[43,189,41,145],[43,190,41,146],[43,191,41,147],[43,192,41,148],[44,6,42,4],[45,6,44,4],[45,10,44,4,"scheduleFlushOperations"],[45,40,44,27],[45,42,44,28],[45,43,44,29],[46,4,45,2],[46,5,45,3],[46,6,45,4],[47,4,47,2],[47,9,47,7],[47,15,47,13,"gesture"],[47,22,47,20],[47,26,47,24,"gesturesToAttach"],[47,42,47,40],[47,44,47,42],[48,6,48,4],[48,12,48,10,"actionType"],[48,22,48,20],[48,25,48,23,"gesture"],[48,32,48,30],[48,33,48,31,"shouldUseReanimated"],[48,52,48,50],[48,55,48,53,"ActionType"],[48,77,48,63],[48,78,48,64,"REANIMATED_WORKLET"],[48,96,48,82],[48,99,48,85,"ActionType"],[48,121,48,95],[48,122,48,96,"JS_FUNCTION_NEW_API"],[48,141,48,115],[49,6,50,4],[49,10,50,8,"Platform"],[49,27,50,16],[49,28,50,17,"OS"],[49,30,50,19],[49,35,50,24],[49,40,50,29],[49,42,50,31],[50,8,51,6,"RNGestureHandlerModule"],[50,39,51,28],[50,40,51,29,"attachGestureHandler"],[50,60,51,49],[50,61,51,50,"gesture"],[50,68,51,57],[50,69,51,58,"handlerTag"],[50,79,51,68],[50,81,51,70,"viewTag"],[50,88,51,77],[50,90,51,79,"ActionType"],[50,112,51,89],[50,113,51,90,"JS_FUNCTION_OLD_API"],[50,132,51,109],[51,8,51,111],[52,8,52,6,"webEventHandlersRef"],[52,27,52,25],[52,28,52,26],[53,6,53,4],[53,7,53,5],[53,13,53,11],[54,8,54,6,"RNGestureHandlerModule"],[54,39,54,28],[54,40,54,29,"attachGestureHandler"],[54,60,54,49],[54,61,54,50,"gesture"],[54,68,54,57],[54,69,54,58,"handlerTag"],[54,79,54,68],[54,81,54,70,"viewTag"],[54,88,54,77],[54,90,54,79,"actionType"],[54,100,54,89],[54,101,54,90],[55,6,55,4],[56,6,57,4,"MountRegistry"],[56,34,57,17],[56,35,57,18,"gestureWillMount"],[56,51,57,34],[56,52,57,35,"gesture"],[56,59,57,42],[56,60,57,43],[57,4,58,2],[58,4,60,2,"preparedGesture"],[58,19,60,17],[58,20,60,18,"attachedGestures"],[58,36,60,34],[58,39,60,37,"gesturesToAttach"],[58,55,60,53],[59,4,62,2],[59,8,62,6,"preparedGesture"],[59,23,62,21],[59,24,62,22,"animatedHandlers"],[59,40,62,38],[59,42,62,40],[60,6,63,4],[60,12,63,10,"isAnimatedGesture"],[60,29,63,27],[60,32,63,30,"g"],[60,33,63,31],[60,37,63,35,"g"],[60,38,63,36],[60,39,63,37,"shouldUseReanimated"],[60,58,63,56],[61,6,65,4,"preparedGesture"],[61,21,65,19],[61,22,65,20,"animatedHandlers"],[61,38,65,36],[61,39,65,37,"value"],[61,44,65,42],[61,47,65,45,"gesturesToAttach"],[61,63,65,61],[61,64,65,62,"filter"],[61,70,65,68],[61,71,65,69,"isAnimatedGesture"],[61,88,65,86],[61,89,65,87],[61,90,65,88,"map"],[61,93,65,91],[61,94,65,92,"g"],[61,95,65,93],[61,99,65,97,"g"],[61,100,65,98],[61,101,65,99,"handlers"],[61,109,65,107],[61,110,65,108],[62,4,66,2],[63,2,67,0],[64,0,67,1],[64,3]],"functionMap":{"names":["<global>","attachHandlers","ghQueueMicrotask$argument_0","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;OCQ;mBCU;GDM;mBCU;GDU;8BEkB,0BF;4FGE,eH;CDE"}},"type":"js/module"}]}