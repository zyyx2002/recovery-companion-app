{"dependencies":[{"name":"./PlatformChecker.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":54,"index":69}}],"key":"6AA7RQghlqlrd3hVWNoLh/rI420=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.shareableMappingFlag = exports.shareableMappingCache = void 0;\n  var _PlatformChecker = require(_dependencyMap[0], \"./PlatformChecker.js\");\n  const SHOULD_BE_USE_WEB = (0, _PlatformChecker.shouldBeUseWeb)();\n\n  /**\n   * This symbol is used to represent a mapping from the value to itself.\n   *\n   * It's used to prevent converting a shareable that's already converted - for\n   * example a Shared Value that's in worklet's closure.\n   */\n  const shareableMappingFlag = exports.shareableMappingFlag = Symbol('shareable flag');\n\n  /*\n  During a fast refresh, React holds the same instance of a Mutable\n  (that's guaranteed by `useRef`) but `shareableCache` gets regenerated and thus\n  becoming empty. This happens when editing the file that contains the definition of this cache.\n  \n  Because of it, `makeShareableCloneRecursive` can't find given mapping\n  in `shareableCache` for the Mutable and tries to clone it as if it was a regular JS object.\n  During cloning we use `Object.entries` to iterate over the keys which throws an error on accessing `_value`.\n  For convenience we moved this cache to a separate file so it doesn't scare us with red squiggles.\n  */\n\n  const cache = SHOULD_BE_USE_WEB ? null : new WeakMap();\n  const shareableMappingCache = exports.shareableMappingCache = SHOULD_BE_USE_WEB ? {\n    set() {\n      // NOOP\n    },\n    get() {\n      return null;\n    }\n  } : {\n    set(shareable, shareableRef) {\n      cache.set(shareable, shareableRef || shareableMappingFlag);\n    },\n    get: cache.get.bind(cache)\n  };\n});","lineCount":44,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"shareableMappingFlag"],[7,30,1,13],[7,33,1,13,"exports"],[7,40,1,13],[7,41,1,13,"shareableMappingCache"],[7,62,1,13],[8,2,3,0],[8,6,3,0,"_PlatformChecker"],[8,22,3,0],[8,25,3,0,"require"],[8,32,3,0],[8,33,3,0,"_dependencyMap"],[8,47,3,0],[9,2,4,0],[9,8,4,6,"SHOULD_BE_USE_WEB"],[9,25,4,23],[9,28,4,26],[9,32,4,26,"shouldBeUseWeb"],[9,63,4,40],[9,65,4,41],[9,66,4,42],[11,2,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[15,0,10,0],[16,0,11,0],[17,2,12,7],[17,8,12,13,"shareableMappingFlag"],[17,28,12,33],[17,31,12,33,"exports"],[17,38,12,33],[17,39,12,33,"shareableMappingFlag"],[17,59,12,33],[17,62,12,36,"Symbol"],[17,68,12,42],[17,69,12,43],[17,85,12,59],[17,86,12,60],[19,2,14,0],[20,0,15,0],[21,0,16,0],[22,0,17,0],[23,0,18,0],[24,0,19,0],[25,0,20,0],[26,0,21,0],[27,0,22,0],[28,0,23,0],[30,2,25,0],[30,8,25,6,"cache"],[30,13,25,11],[30,16,25,14,"SHOULD_BE_USE_WEB"],[30,33,25,31],[30,36,25,34],[30,40,25,38],[30,43,25,41],[30,47,25,45,"WeakMap"],[30,54,25,52],[30,55,25,53],[30,56,25,54],[31,2,26,7],[31,8,26,13,"shareableMappingCache"],[31,29,26,34],[31,32,26,34,"exports"],[31,39,26,34],[31,40,26,34,"shareableMappingCache"],[31,61,26,34],[31,64,26,37,"SHOULD_BE_USE_WEB"],[31,81,26,54],[31,84,26,57],[32,4,27,2,"set"],[32,7,27,5,"set"],[32,8,27,5],[32,10,27,8],[33,6,28,4],[34,4,28,4],[34,5,29,3],[35,4,30,2,"get"],[35,7,30,5,"get"],[35,8,30,5],[35,10,30,8],[36,6,31,4],[36,13,31,11],[36,17,31,15],[37,4,32,2],[38,2,33,0],[38,3,33,1],[38,6,33,4],[39,4,34,2,"set"],[39,7,34,5,"set"],[39,8,34,6,"shareable"],[39,17,34,15],[39,19,34,17,"shareableRef"],[39,31,34,29],[39,33,34,31],[40,6,35,4,"cache"],[40,11,35,9],[40,12,35,10,"set"],[40,15,35,13],[40,16,35,14,"shareable"],[40,25,35,23],[40,27,35,25,"shareableRef"],[40,39,35,37],[40,43,35,41,"shareableMappingFlag"],[40,63,35,61],[40,64,35,62],[41,4,36,2],[41,5,36,3],[42,4,37,2,"get"],[42,7,37,5],[42,9,37,7,"cache"],[42,14,37,12],[42,15,37,13,"get"],[42,18,37,16],[42,19,37,17,"bind"],[42,23,37,21],[42,24,37,22,"cache"],[42,29,37,27],[43,2,38,0],[43,3,38,1],[44,0,38,2],[44,3]],"functionMap":{"names":["<global>","set","get"],"mappings":"AAA;EC0B;GDE;EEC;GFE;ECE;GDE"}},"type":"js/module"}]}