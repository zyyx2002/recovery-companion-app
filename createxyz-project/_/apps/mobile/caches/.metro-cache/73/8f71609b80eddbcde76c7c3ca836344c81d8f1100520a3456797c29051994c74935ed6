{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":42,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../frameCallback/FrameCallbackRegistryJS.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":58},"end":{"line":4,"column":82,"index":140}}],"key":"RxB1gMpnEjrhknPamUsTZDBjWR4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useFrameCallback = useFrameCallback;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _FrameCallbackRegistryJS = _interopRequireDefault(require(_dependencyMap[2], \"../frameCallback/FrameCallbackRegistryJS.js\"));\n  /**\n   * @param setActive - A function that lets you start the frame callback or stop\n   *   it from running.\n   * @param isActive - A boolean indicating whether a callback is running.\n   * @param callbackId - A number indicating a unique identifier of the frame\n   *   callback.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useFrameCallback#returns\n   */\n\n  const frameCallbackRegistry = new _FrameCallbackRegistryJS.default();\n\n  /**\n   * Lets you run a function on every frame update.\n   *\n   * @param callback - A function executed on every frame update.\n   * @param autostart - Whether the callback should start automatically. Defaults\n   *   to `true`.\n   * @returns A frame callback object - {@link FrameCallback}.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useFrameCallback\n   */\n  function useFrameCallback(callback, autostart = true) {\n    const ref = (0, _react.useRef)({\n      setActive: isActive => {\n        frameCallbackRegistry.manageStateFrameCallback(ref.current.callbackId, isActive);\n        ref.current.isActive = isActive;\n      },\n      isActive: autostart,\n      callbackId: -1\n    });\n    (0, _react.useEffect)(() => {\n      ref.current.callbackId = frameCallbackRegistry.registerFrameCallback(callback);\n      const memoizedFrameCallback = ref.current;\n      ref.current.setActive(ref.current.isActive);\n      return () => {\n        frameCallbackRegistry.unregisterFrameCallback(memoizedFrameCallback.callbackId);\n        memoizedFrameCallback.callbackId = -1;\n      };\n    }, [callback, autostart]);\n    return ref.current;\n  }\n});","lineCount":51,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useFrameCallback"],[8,26,1,13],[8,29,1,13,"useFrameCallback"],[8,45,1,13],[9,2,3,0],[9,6,3,0,"_react"],[9,12,3,0],[9,15,3,0,"require"],[9,22,3,0],[9,23,3,0,"_dependencyMap"],[9,37,3,0],[10,2,4,0],[10,6,4,0,"_FrameCallbackRegistryJS"],[10,30,4,0],[10,33,4,0,"_interopRequireDefault"],[10,55,4,0],[10,56,4,0,"require"],[10,63,4,0],[10,64,4,0,"_dependencyMap"],[10,78,4,0],[11,2,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[15,0,10,0],[16,0,11,0],[17,0,12,0],[18,0,13,0],[20,2,15,0],[20,8,15,6,"frameCallbackRegistry"],[20,29,15,27],[20,32,15,30],[20,36,15,34,"FrameCallbackRegistryJS"],[20,68,15,57],[20,69,15,58],[20,70,15,59],[22,2,17,0],[23,0,18,0],[24,0,19,0],[25,0,20,0],[26,0,21,0],[27,0,22,0],[28,0,23,0],[29,0,24,0],[30,0,25,0],[31,2,26,7],[31,11,26,16,"useFrameCallback"],[31,27,26,32,"useFrameCallback"],[31,28,26,33,"callback"],[31,36,26,41],[31,38,26,43,"autostart"],[31,47,26,52],[31,50,26,55],[31,54,26,59],[31,56,26,61],[32,4,27,2],[32,10,27,8,"ref"],[32,13,27,11],[32,16,27,14],[32,20,27,14,"useRef"],[32,33,27,20],[32,35,27,21],[33,6,28,4,"setActive"],[33,15,28,13],[33,17,28,15,"isActive"],[33,25,28,23],[33,29,28,27],[34,8,29,6,"frameCallbackRegistry"],[34,29,29,27],[34,30,29,28,"manageStateFrameCallback"],[34,54,29,52],[34,55,29,53,"ref"],[34,58,29,56],[34,59,29,57,"current"],[34,66,29,64],[34,67,29,65,"callbackId"],[34,77,29,75],[34,79,29,77,"isActive"],[34,87,29,85],[34,88,29,86],[35,8,30,6,"ref"],[35,11,30,9],[35,12,30,10,"current"],[35,19,30,17],[35,20,30,18,"isActive"],[35,28,30,26],[35,31,30,29,"isActive"],[35,39,30,37],[36,6,31,4],[36,7,31,5],[37,6,32,4,"isActive"],[37,14,32,12],[37,16,32,14,"autostart"],[37,25,32,23],[38,6,33,4,"callbackId"],[38,16,33,14],[38,18,33,16],[38,19,33,17],[39,4,34,2],[39,5,34,3],[39,6,34,4],[40,4,35,2],[40,8,35,2,"useEffect"],[40,24,35,11],[40,26,35,12],[40,32,35,18],[41,6,36,4,"ref"],[41,9,36,7],[41,10,36,8,"current"],[41,17,36,15],[41,18,36,16,"callbackId"],[41,28,36,26],[41,31,36,29,"frameCallbackRegistry"],[41,52,36,50],[41,53,36,51,"registerFrameCallback"],[41,74,36,72],[41,75,36,73,"callback"],[41,83,36,81],[41,84,36,82],[42,6,37,4],[42,12,37,10,"memoizedFrameCallback"],[42,33,37,31],[42,36,37,34,"ref"],[42,39,37,37],[42,40,37,38,"current"],[42,47,37,45],[43,6,38,4,"ref"],[43,9,38,7],[43,10,38,8,"current"],[43,17,38,15],[43,18,38,16,"setActive"],[43,27,38,25],[43,28,38,26,"ref"],[43,31,38,29],[43,32,38,30,"current"],[43,39,38,37],[43,40,38,38,"isActive"],[43,48,38,46],[43,49,38,47],[44,6,39,4],[44,13,39,11],[44,19,39,17],[45,8,40,6,"frameCallbackRegistry"],[45,29,40,27],[45,30,40,28,"unregisterFrameCallback"],[45,53,40,51],[45,54,40,52,"memoizedFrameCallback"],[45,75,40,73],[45,76,40,74,"callbackId"],[45,86,40,84],[45,87,40,85],[46,8,41,6,"memoizedFrameCallback"],[46,29,41,27],[46,30,41,28,"callbackId"],[46,40,41,38],[46,43,41,41],[46,44,41,42],[46,45,41,43],[47,6,42,4],[47,7,42,5],[48,4,43,2],[48,5,43,3],[48,7,43,5],[48,8,43,6,"callback"],[48,16,43,14],[48,18,43,16,"autostart"],[48,27,43,25],[48,28,43,26],[48,29,43,27],[49,4,44,2],[49,11,44,9,"ref"],[49,14,44,12],[49,15,44,13,"current"],[49,22,44,20],[50,2,45,0],[51,0,45,1],[51,3]],"functionMap":{"names":["<global>","useFrameCallback","useRef$argument_0.setActive","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCyB;eCE;KDG;YEI;WCI;KDG;GFC;CDE"}},"type":"js/module"}]}