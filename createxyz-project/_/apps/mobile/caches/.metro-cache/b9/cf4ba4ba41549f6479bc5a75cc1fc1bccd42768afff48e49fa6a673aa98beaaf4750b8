{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":42,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../PlatformChecker.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":58},"end":{"line":4,"column":54,"index":112}}],"key":"iJ0YgfbcPgrclB5t1J5j2jedwxA=","exportNames":["*"]}},{"name":"../shareables.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":113},"end":{"line":5,"column":49,"index":162}}],"key":"+BsDziwrceWKNZTUh5E+zFaWGsc=","exportNames":["*"]}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":163},"end":{"line":6,"column":69,"index":232}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useHandler = useHandler;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _PlatformChecker = require(_dependencyMap[1], \"../PlatformChecker.js\");\n  var _shareables = require(_dependencyMap[2], \"../shareables.js\");\n  var _utils = require(_dependencyMap[3], \"./utils.js\");\n  /**\n   * Lets you find out whether the event handler dependencies have changed.\n   *\n   * @param handlers - An object of event handlers.\n   * @param dependencies - An optional array of dependencies.\n   * @returns An object containing a boolean indicating whether the dependencies\n   *   have changed, and a boolean indicating whether the code is running on the\n   *   web.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useHandler\n   */\n  // @ts-expect-error This overload is required by our API.\n\n  function useHandler(handlers, dependencies) {\n    const initRef = (0, _react.useRef)(null);\n    if (initRef.current === null) {\n      const context = (0, _shareables.makeShareable)({});\n      initRef.current = {\n        context,\n        savedDependencies: []\n      };\n    }\n    (0, _react.useEffect)(() => {\n      return () => {\n        initRef.current = null;\n      };\n    }, []);\n    const {\n      context,\n      savedDependencies\n    } = initRef.current;\n    dependencies = (0, _utils.buildDependencies)(dependencies, handlers);\n    const doDependenciesDiffer = !(0, _utils.areDependenciesEqual)(dependencies, savedDependencies);\n    initRef.current.savedDependencies = dependencies;\n    const useWeb = (0, _PlatformChecker.isWeb)() || (0, _PlatformChecker.isJest)();\n    return {\n      context,\n      doDependenciesDiffer,\n      useWeb\n    };\n  }\n});","lineCount":52,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useHandler"],[7,20,1,13],[7,23,1,13,"useHandler"],[7,33,1,13],[8,2,3,0],[8,6,3,0,"_react"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,4,0],[9,6,4,0,"_PlatformChecker"],[9,22,4,0],[9,25,4,0,"require"],[9,32,4,0],[9,33,4,0,"_dependencyMap"],[9,47,4,0],[10,2,5,0],[10,6,5,0,"_shareables"],[10,17,5,0],[10,20,5,0,"require"],[10,27,5,0],[10,28,5,0,"_dependencyMap"],[10,42,5,0],[11,2,6,0],[11,6,6,0,"_utils"],[11,12,6,0],[11,15,6,0,"require"],[11,22,6,0],[11,23,6,0,"_dependencyMap"],[11,37,6,0],[12,2,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,2,18,0],[24,2,20,7],[24,11,20,16,"useHandler"],[24,21,20,26,"useHandler"],[24,22,20,27,"handlers"],[24,30,20,35],[24,32,20,37,"dependencies"],[24,44,20,49],[24,46,20,51],[25,4,21,2],[25,10,21,8,"initRef"],[25,17,21,15],[25,20,21,18],[25,24,21,18,"useRef"],[25,37,21,24],[25,39,21,25],[25,43,21,29],[25,44,21,30],[26,4,22,2],[26,8,22,6,"initRef"],[26,15,22,13],[26,16,22,14,"current"],[26,23,22,21],[26,28,22,26],[26,32,22,30],[26,34,22,32],[27,6,23,4],[27,12,23,10,"context"],[27,19,23,17],[27,22,23,20],[27,26,23,20,"makeShareable"],[27,51,23,33],[27,53,23,34],[27,54,23,35],[27,55,23,36],[27,56,23,37],[28,6,24,4,"initRef"],[28,13,24,11],[28,14,24,12,"current"],[28,21,24,19],[28,24,24,22],[29,8,25,6,"context"],[29,15,25,13],[30,8,26,6,"savedDependencies"],[30,25,26,23],[30,27,26,25],[31,6,27,4],[31,7,27,5],[32,4,28,2],[33,4,29,2],[33,8,29,2,"useEffect"],[33,24,29,11],[33,26,29,12],[33,32,29,18],[34,6,30,4],[34,13,30,11],[34,19,30,17],[35,8,31,6,"initRef"],[35,15,31,13],[35,16,31,14,"current"],[35,23,31,21],[35,26,31,24],[35,30,31,28],[36,6,32,4],[36,7,32,5],[37,4,33,2],[37,5,33,3],[37,7,33,5],[37,9,33,7],[37,10,33,8],[38,4,34,2],[38,10,34,8],[39,6,35,4,"context"],[39,13,35,11],[40,6,36,4,"savedDependencies"],[41,4,37,2],[41,5,37,3],[41,8,37,6,"initRef"],[41,15,37,13],[41,16,37,14,"current"],[41,23,37,21],[42,4,38,2,"dependencies"],[42,16,38,14],[42,19,38,17],[42,23,38,17,"buildDependencies"],[42,47,38,34],[42,49,38,35,"dependencies"],[42,61,38,47],[42,63,38,49,"handlers"],[42,71,38,57],[42,72,38,58],[43,4,39,2],[43,10,39,8,"doDependenciesDiffer"],[43,30,39,28],[43,33,39,31],[43,34,39,32],[43,38,39,32,"areDependenciesEqual"],[43,65,39,52],[43,67,39,53,"dependencies"],[43,79,39,65],[43,81,39,67,"savedDependencies"],[43,98,39,84],[43,99,39,85],[44,4,40,2,"initRef"],[44,11,40,9],[44,12,40,10,"current"],[44,19,40,17],[44,20,40,18,"savedDependencies"],[44,37,40,35],[44,40,40,38,"dependencies"],[44,52,40,50],[45,4,41,2],[45,10,41,8,"useWeb"],[45,16,41,14],[45,19,41,17],[45,23,41,17,"isWeb"],[45,45,41,22],[45,47,41,23],[45,48,41,24],[45,52,41,28],[45,56,41,28,"isJest"],[45,79,41,34],[45,81,41,35],[45,82,41,36],[46,4,42,2],[46,11,42,9],[47,6,43,4,"context"],[47,13,43,11],[48,6,44,4,"doDependenciesDiffer"],[48,26,44,24],[49,6,45,4,"useWeb"],[50,4,46,2],[50,5,46,3],[51,2,47,0],[52,0,47,1],[52,3]],"functionMap":{"names":["<global>","useHandler","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCmB;YCS;WCC;KDE;GDC;CDc"}},"type":"js/module"}]}